{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{354:function(s,a,t){\"use strict\";t.r(a);var e=t(41),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[t(\"h1\",{attrs:{id:\"环境配置\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#环境配置\"}},[s._v(\"#\")]),s._v(\" 环境配置\")]),s._v(\" \"),t(\"h2\",{attrs:{id:\"环境说明\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#环境说明\"}},[s._v(\"#\")]),s._v(\" 环境说明\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"后端：需要在Linux系统下部署运行，建议使用ubuntu18.04，其它版本的Linux系统也可，同时需要\"),t(\"strong\",[s._v(\"Docker\")]),s._v(\"辅助部署\")]),s._v(\" \"),t(\"li\",[s._v(\"前端：Linux系统下，需要nginx进行反向代理\")]),s._v(\" \"),t(\"li\",[s._v(\"判题服务：由于判题沙盒有多操作系统版本，Linux系统或Windows都可，强烈建议Linux系统（Ubuntu）\")]),s._v(\" \"),t(\"li\",[s._v(\"数据同步：需要运行判题服务和后端服务的服务器有rsync即可\")])]),s._v(\" \"),t(\"h2\",{attrs:{id:\"linux环境搭建\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#linux环境搭建\"}},[s._v(\"#\")]),s._v(\" Linux环境搭建\")]),s._v(\" \"),t(\"blockquote\",[t(\"p\",[s._v(\"请先准备一台 CPU: 1核 内存: 2G 硬盘: 30G的云服务器，推荐Ubuntu16.04以上的操作系统，\")]),s._v(\" \"),t(\"p\",[s._v(\"HOJ使用的Ubuntu18.04版本，单机部署建议2G以上内存\")])]),s._v(\" \"),t(\"h3\",{attrs:{id:\"安装docker\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装docker\"}},[s._v(\"#\")]),s._v(\" 安装docker\")]),s._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[s._v(\"安装需要的包\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt-get\")]),s._v(\" update\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"安装依赖包\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt-get\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n   apt-transport-https \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n   ca-certificates \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n   \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"curl\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n   gnupg-agent \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n   software-properties-common\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"添加 Docker 的官方 GPG 密钥\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"curl\")]),s._v(\" -fsSL https://download.docker.com/linux/ubuntu/gpg \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" apt-key \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"add\")]),s._v(\" -\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"设置远程仓库\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" add-apt-repository \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n   \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\\\\n  '),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$(\")]),s._v(\"lsb_release -cs\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\")\")])]),s._v(' \\\\\\n  stable\"')]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"安装 Docker-CE\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt-get\")]),s._v(\" update\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt-get\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" docker-ce docker-ce-cli containerd.io\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"验证是否成功\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" docker run hello-world\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])])]),s._v(\" \"),t(\"h3\",{attrs:{id:\"安装docker-compose\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装docker-compose\"}},[s._v(\"#\")]),s._v(\" 安装docker-compose\")]),s._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[s._v(\"下载\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"curl\")]),s._v(\" -L https://get.daocloud.io/docker/compose/releases/download/1.25.5/docker-compose-\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"`\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"uname\")]),s._v(\" -s\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"`\")])]),s._v(\"-\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"`\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"uname\")]),s._v(\" -m\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"`\")])]),s._v(\" -o /usr/local/bin/docker-compose\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"授权\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" +x /usr/local/bin/docker-compose\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])])]),s._v(\" \"),t(\"h2\",{attrs:{id:\"windows-环境\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#windows-环境\"}},[s._v(\"#\")]),s._v(\" Windows 环境\")]),s._v(\" \"),t(\"p\",[s._v(\"Windows 下的安装仅供体验，勿在生产环境使用。如有必要，请使用虚拟机安装 Linux 并将 OJ 安装在其中。\")]),s._v(\" \"),t(\"p\",[s._v(\"以下教程仅适用于 Win10 x64 下的 \"),t(\"code\",[s._v(\"PowerShell\")])]),s._v(\" \"),t(\"ol\",[t(\"li\",[s._v(\"安装 Windows 的 Docker 工具\")]),s._v(\" \"),t(\"li\",[s._v(\"右击右下角 Docker 图标，选择 Settings 进行设置\")]),s._v(\" \"),t(\"li\",[s._v(\"选择 \"),t(\"code\",[s._v(\"Shared Drives\")]),s._v(\" 菜单，之后勾选你想安装 OJ 的盘符位置（例如勾选D盘），点击 \"),t(\"code\",[s._v(\"Apply\")])]),s._v(\" \"),t(\"li\",[s._v(\"输入 Windows 的账号密码进行文件共享\")]),s._v(\" \"),t(\"li\",[s._v(\"安装 \"),t(\"code\",[s._v(\"Python\")]),s._v(\"、\"),t(\"code\",[s._v(\"pip\")]),s._v(\"、\"),t(\"code\",[s._v(\"git\")]),s._v(\"、\"),t(\"code\",[s._v(\"docker-compose\")]),s._v(\"，安装方法自行搜索。\")])]),s._v(\" \"),t(\"h2\",{attrs:{id:\"单个部署顺序\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#单个部署顺序\"}},[s._v(\"#\")]),s._v(\" 单个部署顺序\")]),s._v(\" \"),t(\"p\",[s._v(\"单个部署的顺序是：redis，mysql，rsync，frontend >> nacos >> backend，judgeserver\")])])}),[],!1,null,null,null);a.default=n.exports}}]);","extractedComments":[]}